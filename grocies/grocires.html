<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>groceries</title>
    <link rel="stylesheet" href="./styles/grocires.css">
    <link rel="stylesheet" href="./styles/grocire.css">
</head>
<body>
    <!-- navbar -->
        <div id="Mnavbar">
           
        </div>
<!-- Business function -->
          <div class="form-popupb" id="myForm1">
            <button id="cancel1" type="button" class="btn cancel">X</button>
            <form class="form-container">                
            <div id="formdata">
                <img id="login_img1" src="https://resources.dunzo.com/web-assets/prod/_next/static/images/d4b-header-icon-f1bb33e3de2728b2ee145cfc7c766a5a.png">
                <div>
                  <p class="text_p1"><a class="text_p1" href="">Need Delivery partners?</a></p>          
             <p class="text_name1">Signup with Dunzo for business and get your first delivery free!</p>
              </div>
             </div>
             <hr>
             <div id="formdata">
             <img id="login_img1" src="https://resources.dunzo.com/web-assets/prod/_next/static/images/b2c-merchant-header-icon-c16bae886aa08eb24968f219737e9e4a.png" alt="">
            <div>
                <p class="text_p1"><a class="text_p1" href="">Sell products on Dunzo</a></p>
            <p class="text_name1">Apply to get your product listed on the Dunzo app & website</p>
            </div>
            </div>
            
            </form>
          </div>     
          
          <!-- Search function -->
           <form class="form-popupc" id="myForm2">
               <input type="text" name="" id="navsearc" placeholder="Search for items or stores">
           <button id="cancel2" type="button" class="btn cancel">X</button>
           </form>
         <!-- Cart function -->
         
         <form class="form-popupd" id="myForm3">           
             
            <img id="imgdd" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRBhUuz2vc2-RYgLCtFtTzjY9oApsKqIMXVdQ&usqp=CAU" alt="">
           
           <p id="texa">Your cart is waiting to be filled</p>
           <p id="texb">Make your task list and Dunzo it now!</p>
           <button id="shopa">Start Shopping</button>
           <button id="cancel3" type="button" class="btn cancel">X</button>  
           </form>
        <!-- navyBlue -->
        <div id="Mnavy">
            <img id="navy_icon" src="./images/HomeIcon.png">
            <div id="Mnavy-text">
                <h3 class="navy_text1">Order Paan items, munchies and much more on our new Dunzo Mo app</h3>
            <h3 class="navy_text2">Download Dunzo Mo app now ></h3>
            </div>
        </div>
<!-- Login Popup -->
        <div class="form-popup" id="myForm">
            <button id="cancel" type="button" class="btn cancel">X</button>
            <img id="login_img" src="https://resources.dunzo.com/web-assets/prod/_next/static/images/signin-icon-cb6e6a706f01b84896e60235a2392ac9.png">
            <form class="form-container">
              <h2 class="text_sign">Sign in</h2>
              <p class="text_p">Get Started with DUNZO</p>
          
             <p class="text_name">*Enter your phone number</p>
             <br>
             <input id="num" type="number" placeholder="+91 Mobile Number">
             <br>
             <div id="terms_flex">
              <input id="checkbox" type="checkbox">
              <h4 class="terms">I accept the Terms of Use & Privacy Policy  |  View T&C</h4>
             </div>
             <button id="otpsubmit">Send OTP</button>
            </form>
          </div>

          <!-- OTP Popup -->
          <div class="form-otp" id="myOTP">
            <button id="cancel_otp" type="button" class="btn cancel">X</button>
            <img id="login_img" src="https://resources.dunzo.com/web-assets/prod/_next/static/images/signin-icon-cb6e6a706f01b84896e60235a2392ac9.png">
            <form class="form-container">
              <h2 class="text_sign">Sign in</h2>
              <p class="text_p">Get Started with DUNZO</p>
          
              <h4 id="enterotp">Enter the OTP</h4>
              <div id="otpgrid">
                <input type="number">
                <input type="number">
                <input type="number">
                <input type="number">
                <input type="number">
                <input type="number">
              </div>
              <a href="../homepage/homepage.html"><button id="accountpage">Verify and Continue</a></button>
             </form>
        </div>
    <div id="hed">
        <p id="home1">Home -> Hyderabad -> Kondapur -> Vijetha Super Market</p>
        <div id="inhed">
            <div id="imgd">
            <img id="img" src="https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/bnNnWFVDdExaZDYwb3RWVjhNcytodz09-1622459220179-store_image.jpg" alt="">
        
        </div>
        <div id="con">
        <h2>Vijetha Super Market in Hyderabad </h2>
        <p id="loc">Kondapur</p>
        </div>
        
        </div>
    </div>
    <hr>
        <div id="serdiv">
            <div id="ser-lis">
            <input type="text" name="" id="inp" placeholder="Search in SUPERMARKETS">
        </div>
        </div>
        <hr>
    <div id="fandv">  
        <div id="list-item">
         <p id="itm"><a id="a" href="">Breakfast & Dairy</a></p>
          <p id="itm"><a href="">Privisions</a></p>
           <p id="itm"><a href="">Condiments</a></p>
            <p id="itm"><a href="">Chocolates & Ice Cream</a></p>
             <p id="itm"><a href="">Baby Cares</a></p>
              <p id="itm"><a href="">Personal Care</a></p>
               <p id="itm"><a href="">Pooja Needs</a></p>
                <p id="itm"><a href="">Snakes</a></p>
                 <p id="itm"><a href="">Kirana</a></p>
                  <p id="itm"><a href="">Beverages</a></p>
                   <p id="itm"><a href="">Instant Foods</a></p>
                    <p id="itm"><a href="">Cleaning & Households</a></p>
                     <p id="itm"><a href="">Daily Needs</a></p>
        </div>  
         
    <div id="martdata">        
            <h1 id="h1">Breakfast & Dairy</h1>         
    </div>
   <div id="fvCart">
        <h1>Your Cart</h1>        
        <h2 id="item"></h2>
       
        <img src="https://resources.dunzo.com/web-assets/prod/_next/static/images/no-items-in-cart-7e84056f44993b68d14184f9b2992af7.png" alt="">
        <ul id="ful">
            
        </ul>
        <button id="check"><h3 id="co"></h3></button>
    </div>
    
    </div>
    <h2 id="hedh1">Areas we deliver to</h2>
 <div id="areadev">

<a id="ard" href="https://www.google.com/maps">Hitech City</a>
<a id="ard" href="https://www.google.com/maps">Jubli Hills</a>
<a id="ard" href="https://www.google.com/maps">Banjara Hills</a>
<a id="ard" href="https://www.google.com/maps">panjagutta</a>
<a id="ard" href="https://www.google.com/maps">Begampet</a>
<a id="ard" href="https://www.google.com/maps">SR Nagar</a>
<a id="ard" href="https://www.google.com/maps">Kukatpally</a>
<a id="ard" href="https://www.google.com/maps">Miyapur</a>
<a id="ard" href="https://www.google.com/maps">BHEL</a>
<a id="ard" href="https://www.google.com/maps">Nizam pet</a>
<a id="ard" href="https://www.google.com/maps">Bal Nagar</a>
<a id="ard" href="https://www.google.com/maps">Secundrabad</a>
<a id="ard" href="https://www.google.com/maps">ThirmalaGiri</a>
<a id="ard" href="https://www.google.com/maps">Uppal</a>
<a id="ard" href="https://www.google.com/maps">Boduppal</a>
<a id="ard" href="https://www.google.com/maps">Ghatkeswar</a>
<a id="ard" href="https://www.google.com/maps">Medipally</a>
<a id="ard" href="https://www.google.com/maps">Mallapur</a>
<a id="ard" href="https://www.google.com/maps">Nacharam</a>
<a id="ard" href="https://www.google.com/maps">ECIL</a>
<a id="ard" href="https://www.google.com/maps">Tarnaka</a>
<a id="ard" href="https://www.google.com/maps">Nagole</a>
<a id="ard" href="https://www.google.com/maps">Kondapur</a>
<a id="ard" href="https://www.google.com/maps">Manikonda</a>
<a id="ard" href="https://www.google.com/maps">Gacchibowli</a>
<a id="ard" href="https://www.google.com/maps">Mehidipatnam</a>
<a id="ard" href="https://www.google.com/maps">Attapur</a>
<a id="ard" href="https://www.google.com/maps">LB Nagar</a>
<a id="ard" href="https://www.google.com/maps">Nagole</a>
<a id="ard" href="https://www.google.com/maps">Hitech City</a>
<a id="ard" href="https://www.google.com/maps">Dilshuknagar</a>
<a id="ard" href="https://www.google.com/maps">Koti</a>






</div>
    <div id="footer">
        
    </div>
</body>

</html>

<script type="module">
    let n=0;
    let sum=0;
  
  let data_div=document.querySelector("#martdata"); 

 
  // navbar Dynamic
import navbar from './components/navbar.js';

let navbar_container = document.getElementById('Mnavbar');

navbar_container.innerHTML = navbar()

let obj={}
// footer Dynamic
import footer from './components/footer.js';

let footer_container = document.getElementById('footer');

footer_container.innerHTML = footer()
let mart_div = document.getElementById("martdata");
    let response = getData("https://dunzobackendclone.herokuapp.com/groceries");
response
.then( (res) => {    
     console.log("res",res)
        appendData(res, mart_div)
      })
      .catch((err) =>{
    console.log("err",err)
});

async function getData(url) {
  try {
    let res = await fetch(url);

    let data = await res.json();
    return data;
  } catch (el) {
    console.log(el);
  }
}
function appendData(data, location) {
 
  data.forEach(el=>{
     console.log(el)
    let ful=document.querySelector("#ful")
    let button=document.createElement("button");
    let div2=document.createElement("div");
    let div=document.createElement("div");
    let img=document.createElement("img");
    let fh=document.createElement("h4");
    img.src=el.image;
    let rn=Math.floor(Math.random()*100)
    let h4=document.createElement("h4")
    h4.textContent=`₹${rn} for 1 kg`
    fh.textContent=el.price;
    button.textContent="+ ADD"
    button.addEventListener("click",cta)
    
    function cta(){
      obj={
            img:el.image,
            name:el.price,
            price:rn


        }
        n+=1;
        sum+=rn;
        localStorage.setItem(`Items${n+200}`,JSON.stringify(obj))
        localStorage.setItem("NOIII",`${n}`)
        localStorage.setItem("SOIII",`${sum}`)
        let co=document.querySelector("#co");
        let checkout=document.querySelector("#check");
        let li=document.createElement("p");
        fvCart.textContent=`${n} Item`
        co.textContent=` Checkout ₹${sum}`          
        li.textContent=`${el.price} || 1 kg || ₹${rn}.00`;        
        let rem=document.createElement("button")
        rem.textContent="Remove"
        rem.addEventListener("click",remo);
        function remo(){
            li.remove()
            localStorage.removeItem(`Items${n+200}`)
            n-=1;
            
            sum-=rn;
            localStorage.setItem("SOIII",`${sum}`)
            localStorage.setItem("NOIII",`${n}`)
            console.log(sum,n)
            fvCart.textContent=`${n} Item`
        co.textContent=` Checkout ₹${sum}`
         
        }
         var payment = document.getElementById('check').addEventListener('click', payment);
         function payment(){
          window.location.href = "../cart/cart.html"
           }
       
        console.log(sum,n)
        li.append(rem)
        ful.append(li)
        console.log(n)
    
    }
    div2.append(fh,h4,button)
   div.append(img,div2);
   data_div.append(div)
    
    
})

let fvCart=document.querySelector("#item");

let fvdata=document.querySelector("#itm");
}
//Login Popup
var openLogin = document.getElementById('nav_signin').addEventListener('click', openForm);
var closeLogin = document.getElementById('cancel').addEventListener('click', closeForm);

function openForm() {
    
  document.getElementById("myForm").style.display = "block";
  document.getElementById('MmainImg').style.display = "none";
  document.getElementById('Mgrid1').style.display = "none";
  document.getElementById('Mgrid2').style.display = "none";
  document.getElementById('Mmobile').style.display = "none";
}
function closeForm() {
  document.getElementById("myForm").style.display = 'none';
  document.getElementById('MmainImg').style.display = "block";
  document.getElementById('Mgrid1').style.display = "block";
  document.getElementById('Mgrid2').style.display = "block";
  document.getElementById('Mmobile').style.display = "block";
}


//OTP Popup
var enterotp = document.getElementById('otpsubmit').addEventListener('click', enterOtp);
var cancelorp = document.getElementById('cancel_otp').addEventListener('click', submitForm);

function enterOtp(){
  document.getElementById("myForm").innerHTML = null;
  document.getElementById("myOTP").style.display = "block";
  document.getElementById("myForm").style.display = "none";
  document.getElementById('MmainImg').style.display = "none";
  document.getElementById('Mgrid1').style.display = "none";
  document.getElementById('Mgrid2').style.display = "none";
  document.getElementById('Mmobile').style.display = "none";
}

function submitForm(){
  document.getElementById("myForm").style.display = 'none';
  document.getElementById("myOTP").style.display = "none";
  document.getElementById('MmainImg').style.display = "block";
  document.getElementById('Mgrid1').style.display = "block";
  document.getElementById('Mgrid2').style.display = "block";
  document.getElementById('Mmobile').style.display = "block";
}
var openbiss = document.getElementById('title2').addEventListener('click', openForm1);
var closebiss = document.getElementById('cancel1').addEventListener('click', closeForm1);
function openForm1() {    
  document.getElementById("myForm1").style.display = "block";
}
function closeForm1() {
  document.getElementById("myForm1").style.display = 'none';
}

var openserch = document.getElementById('nav_search').addEventListener('click', openForm2);
var closesecrh = document.getElementById('cancel2').addEventListener('click', closeForm2);
function openForm2() {    
  document.getElementById("myForm2").style.display = "block";
}
function closeForm2() {
  document.getElementById("myForm2").style.display = 'none';
}

var cartopen = document.getElementById('nav_cart').addEventListener('click', openForm3);
var cartclose = document.getElementById('cancel3').addEventListener('click', closeForm3);
function openForm3() {    
  document.getElementById("myForm3").style.display = "block";
}
function closeForm3() {
  document.getElementById("myForm3").style.display = 'none';
}

</script>